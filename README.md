# PostgreSQL Installer

–ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL –Ω–∞ –æ–¥–Ω–æ–º –∏–∑ –¥–≤—É—Ö —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ (Debian –∏–ª–∏ AlmaLinux). –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏–ª–∏ CI/CD.

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç

- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –¥–≤—É–º —Å–µ—Ä–≤–µ—Ä–∞–º –ø–æ SSH
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –Ω–∏—Ö
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç PostgreSQL –Ω–∞ –º–µ–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–º
- –°–æ–∑–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `student` —Å –ø–∞—Ä–æ–ª–µ–º –∏–∑ `.env`
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —É–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —Å IP –≤—Ç–æ—Ä–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ SQL-–∑–∞–ø—Ä–æ—Å–æ–º `SELECT 1`

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –ù–∞ –æ–±–æ–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö –¥–æ—Å—Ç—É–ø–µ–Ω root —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ SSH-–∫–ª—é—á–æ–º
- –ó–∞–∫—Ä—ã—Ç–∞—è —á–∞—Å—Ç—å –∫–ª—é—á–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `paramiko`, `python-dotenv`:
  ```bash
  pip install paramiko python-dotenv
  ```

- –§–∞–π–ª `.env` –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º:
  ```
  POSTGRES_STUDENT_PASSWORD=your_secure_password
  ```

## –ó–∞–ø—É—Å–∫

```bash
python installer.py 192.168.1.10,192.168.1.11
```

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```
Starting PostgreSQL installation
Connecting to 192.168.1.10... OK
Connecting to 192.168.1.11... OK
Selected target host: 192.168.1.10
Installing PostgreSQL on 192.168.1.10... OK
Creating database user... OK
Configuring PostgreSQL access... OK
Verifying remote connection... OK
PostgreSQL installation completed successfully
```

## –ü—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è

1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –û–°** ‚Äî —á–µ—Ä–µ–∑ `/etc/os-release`, —Ç–∞–∫ –∫–∞–∫ –∫—Ä–æ—Å—Å-–¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–Ω–æ.
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏** ‚Äî —á–µ—Ä–µ–∑ `/proc/loadavg`, —ç—Ç–æ –±—ã—Å—Ç—Ä–µ–µ –∏ –±–µ–∑ –ª–∏—à–Ω–∏—Ö —É—Ç–∏–ª–∏—Ç.
3. **Firewall** ‚Äî –Ω–∞ CentOS –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è `postgresql`-—Å–µ—Ä–≤–∏—Å —á–µ—Ä–µ–∑ `firewall-cmd`. –ù–∞ Debian ‚Äî –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.
4. **SSH-—Ö–æ—Å—Ç—ã** ‚Äî –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ `known_hosts`, –±–µ–∑ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–æ–∫ –ø–æ –∫–ª—é—á—É ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ.
5. **–õ–æ–≥–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è** ‚Äî `sys.exit(0)` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, `1` –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞–π–ø–ª–∞–π–Ω–∞—Ö.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ installer.py        
‚îú‚îÄ‚îÄ .env                
‚îú‚îÄ‚îÄ README.md          
```
